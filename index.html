<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function computerPlay(){
            let choice = Math.floor(Math.random()*3);
            switch(choice){
                case 1:
                    return "Rock";
                case 2:
                    return "Paper";
                default:
                    return "Scissors";
            }
        }

        function transformCase(input){
            let modifiedString = input.toLowerCase(); // set entire string to lower case
            let firstLetter = modifiedString.substr(0,1).toUpperCase(); // extract first letter and capitalize
            return firstLetter + modifiedString.slice(1); // concat first letter with all remaining lowercase letters
        }
        
        function playRound(playerSelection, computerSelection){
            if(playerSelection === computerSelection){
                return "Draw! " + playerSelection + " ties " + computerSelection;
            } else if(playerSelection === "Rock" && computerSelection === "Scissors") {
                playerScore++;
                return "You win! " + playerSelection + " beats " + computerSelection;
            } else if(playerSelection === "Rock" && computerSelection === "Paper") {
                computerScore++;
                return "You lose! " + computerSelection + " beats " + playerSelection;
            } else if(playerSelection === "Paper" && computerSelection === "Rock") {
                playerScore++
                return "You win! " + playerSelection + " beats " + computerSelection;
            } else if(playerSelection === "Paper" && computerSelection === "Scissors") {
                computerScore++;
                return "You lose! " + computerSelection + " beats " + playerSelection;
            } else if(playerSelection === "Scissors" && computerSelection === "Paper") {
                playerScore++;
                return "You win! " + playerSelection + " beats " + computerSelection;
            } else if(playerSelection === "Scissors" && computerSelection === "Rock") {
                computerScore++;
                return "You lose! " + computerSelection + " beats " + playerSelection;
            }
        }

        function game(){
            playerScore = 0;
            computerScore = 0;
            let playerInput;
            let inputAccept = false;
            for(let i = 0; i < 5; i++){
                while(!inputAccept){   // obtain player choice and make sure it is valid
                    playerInput = prompt("Make your choice! (rock, paper or scissors)");
                    playerInput = transformCase(playerInput);
                    if(playerInput === "Rock" || playerInput === "Paper" || playerInput === "Scissors"){
                        inputAccept=true;
                        playerSelection = playerInput;
                    }
                }
                computerSelection = computerPlay();
                console.log(playRound(playerSelection, computerSelection));
                inputAccept=false;
            }
            console.log(chooseWinner(playerScore, computerScore));
        }

        function chooseWinner(playerScore, computerScore){
            if(playerScore === computerScore){
                return "Tie game! " + playerScore + "-" + computerScore;
            } else if(playerScore > computerScore){
                return "You win! " + playerScore + "-" + computerScore;
            } else {
                return "You lose! " + computerScore + "-" + playerScore;
            }
        }

        let playerSelection;
        let computerSelection;
        let playerScore;
        let computerScore;

    </script>
</body>
</html>